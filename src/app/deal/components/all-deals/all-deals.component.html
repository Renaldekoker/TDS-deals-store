<div class="deals-container flex-grid">
  <div class="header">
    <span class="page-title">Deals</span>
    <div class="search-input-container flex-grid">
      <input #searchTerm class="search-input" type="text"
             (keyup)="searchTerm$.next(searchTerm.value)"
             placeholder="Search deals by name"/>
      <svg class="search-icon" xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd">
        <path
          d="M15.853 16.56c-1.683 1.517-3.911 2.44-6.353 2.44-5.243 0-9.5-4.257-9.5-9.5s4.257-9.5 9.5-9.5 9.5 4.257 9.5 9.5c0 2.442-.923 4.67-2.44 6.353l7.44 7.44-.707.707-7.44-7.44zm-6.353-15.56c4.691 0 8.5 3.809 8.5 8.5s-3.809 8.5-8.5 8.5-8.5-3.809-8.5-8.5 3.809-8.5 8.5-8.5z"/>
      </svg>
    </div>
  </div>
  <div class="filter" (click)="filtersExpanded = !filtersExpanded">
    <span class="filter-title">Filters</span>
    <img width="20" class="expand-arrow"
         [src]="filtersExpanded ? 'assets/img/logos/arrow-up.svg' : 'assets/img/logos/arrow-down.svg'" alt="expand-arrow">
  </div>
  <div class="filters-content" *ngIf="filtersExpanded">
    <label for="onSale">On Sale</label>
    <input #onSale type="checkbox" id="onSale" checked="" (change)="filterBy(onSale.checked)"/>
  </div>
  <div class="break line">
  </div>
  <div class="col-3 deal-col" *ngFor="let deal of filteredDeals" [@flyInOut]="'in'">
    <app-deal [deal]="deal"></app-deal>
  </div>
  <div class="loading" *ngIf="isLoading$ | async">
    <img src="assets/img/logos/spinner.gif" alt="loading spinner"  width="150" />
  </div>
</div>

